

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Noronha’s Data Model &mdash; Noronha 1.3.2 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Configuring Noronha" href="configuration.html" />
    <link rel="prev" title="Key Concepts" href="concepts.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Noronha
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../intro.html">Introduction</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">User Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="concepts.html">Key Concepts</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Noronha’s Data Model</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#project">Project</a></li>
<li class="toctree-l3"><a class="reference internal" href="#build-version">Build Version</a></li>
<li class="toctree-l3"><a class="reference internal" href="#model">Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="#dataset">Dataset</a></li>
<li class="toctree-l3"><a class="reference internal" href="#training">Training</a></li>
<li class="toctree-l3"><a class="reference internal" href="#model-version">Model Version</a></li>
<li class="toctree-l3"><a class="reference internal" href="#deployment">Deployment</a></li>
<li class="toctree-l3"><a class="reference internal" href="#treasure-chest">Treasure Chest</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="configuration.html">Configuring Noronha</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../reference/index.html">Reference</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Noronha</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">User Guide</a> &raquo;</li>
        
      <li>Noronha’s Data Model</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/guide/data_model.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="noronha-s-data-model">
<span id="data-model-guide"></span><h1>Noronha’s Data Model<a class="headerlink" href="#noronha-s-data-model" title="Permalink to this headline">¶</a></h1>
<p>This section describes how Noronha stores its metadata in MongoDB and how these metadata documents relate to each other. Reading and understanding this section is going to help you when creating and manipulating projects, models and other objects in Noronha.</p>
<p>The diagram bellow gives a hint on the document relationships described in detail here:</p>
<img alt="../_images/data_model.png" src="../_images/data_model.png" />
<p>This guide adopts the following conventions for representing document fields that link to other documents:</p>
<ul class="simple">
<li><p><strong>Referenced document:</strong> fields in <strong>bold</strong> are like pointers. Their content is always consistent with the original document they refer to. Fields like these are meant to answer questions like: which model is my project using? Which model files are expected?</p></li>
<li><p><em>Embedded document:</em> fields in <em>italic</em> are like snapshots. Their content is a report of how the referred document was when the field was updated. Fields like these are meant to answer questions like: which version of my project’s code was used in that training?</p></li>
</ul>
<div class="section" id="project">
<h2>Project<a class="headerlink" href="#project" title="Permalink to this headline">¶</a></h2>
<p>Represents a project that is managed by the framework. Also referred to as <em>proj</em>.</p>
<pre class="literal-block">{
    name: name-of-the-project  # only alphanumerical and dashes
    desc: free text description
    <strong>model:</strong> list of models used by this project
    home_dir: local directory where the project is hosted
    git_repo: the project's remote Git repository
    docker_repo: the project's remote Docker repository
    # see <a class="reference internal" href="concepts.html#project-repositories"><span class="std std-ref">project repositories</span></a>
}</pre>
</div>
<div class="section" id="build-version">
<h2>Build Version<a class="headerlink" href="#build-version" title="Permalink to this headline">¶</a></h2>
<p>Represents the Docker image that was created when the project was built by Noronha. Also referred to as <em>bvers</em> or <em>bv</em> (not to mistake for <em>beavers</em> :D).</p>
<pre class="literal-block">{
    tag: Docker tag
    <strong>proj</strong>: the project which was built
    docker_id: the Docker hash associated to the image that was created
    git_version: the Git hash associated to the last commit before the project was built
    built_at: date and time when it was built
    built_from: either 'local', 'git' or 'pre-built' (determined by the <a class="reference internal" href="../reference/cli.html#build-command"><span class="std std-ref">build command</span></a>)
}</pre>
</div>
<div class="section" id="model">
<h2>Model<a class="headerlink" href="#model" title="Permalink to this headline">¶</a></h2>
<p>Represents a model that is managed by the framework.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>{
    name: name-of-the-model  # only alphanumerical and dashes
    desc: free text description
    model_files: list of file docs. These files compose the model&#39;s persistence
    data_files:  list of file docs. These files compose a dataset for training the model
}

# btw, this is how a file doc is defined:
{
    name: file.extension
    desc: free text description
    required: if true, this file can never be left out
    max_mb: maximum file size in MB. Not necessary, but good to know
}
</pre></div>
</div>
<p>Note that this is <strong>not</strong> a model <a class="reference internal" href="#model-version-doc"><span class="std std-ref">version</span></a>, but a model <em>definition</em>: it’s like a template that describes how a model is going to be persisted. Of course, when starting project we usually have no clue of how the model is going to be, but don’t worry: all properties except the model’s name can be edited later.</p>
</div>
<div class="section" id="dataset">
<h2>Dataset<a class="headerlink" href="#dataset" title="Permalink to this headline">¶</a></h2>
<p>Represents a dataset that is managed by the framework. Also referred to as <em>ds</em> (not a data scientist though :D).</p>
<pre class="literal-block">{
    name: name-of-the-dataset  # only alphanumerical and dashes
    <strong>model</strong>: the model to which this dataset belongs
    stored: if true, the dataset files are stored in Noronha's file manager
    details: dictionary with arbitrary details about the dataset
}</pre>
</div>
<div class="section" id="training">
<h2>Training<a class="headerlink" href="#training" title="Permalink to this headline">¶</a></h2>
<p>Represents the execution of a training. Also referred to as <em>train</em> (not the one that runs on <em>rails</em> :D).</p>
<pre class="literal-block">{
    name: name-of-the-training  # only alphanumerical and dashes
    <strong>proj</strong>: the project responsible for this training
    <em>bvers</em>: the build version that was used for running this training
    notebook: relative path inside the project's repository to the training notebook that was executed
    task: task doc. Represents the training's progress and state
    details: dictionary with arbitrary details about the training
}

# btw, this is how a task doc is defined:
{
    state: either one of WAITING, RUNNING, FINISHED, FAILED, CANCELLED
    progress: number between 0 and 1
    start_time: when the task started
    update_time: when the task's state and/or progress was updated
}</pre>
</div>
<div class="section" id="model-version">
<span id="model-version-doc"></span><h2>Model Version<a class="headerlink" href="#model-version" title="Permalink to this headline">¶</a></h2>
<p>Represents a persistent model that was generated during a training. Also referred to as <em>movers</em> or <em>mv</em>.</p>
<pre class="literal-block">{
    name: name-of-the-version  # only alphanumerical and dashes
    <strong>model</strong>: the parent model definition (template) that shapes this version
    <em>train</em>: the training execution that generated this version
    <em>ds</em>: the dataset that was used for training the model
    details: dictionary with arbitrary details about the version
}</pre>
</div>
<div class="section" id="deployment">
<h2>Deployment<a class="headerlink" href="#deployment" title="Permalink to this headline">¶</a></h2>
<p>Represents a group of one or more identical containers providing a prediction service. Also referred to as <em>depl</em>.</p>
<pre class="literal-block">{
    name: name-of-the-deployment  # only alphanumerical and dashes
    <strong>proj</strong>: the project to which this deployment belongs
    <em>movers</em>: the model version used in this deployment
    <em>bvers</em>: the build version (docker image) used for creating this deployment's containers
    notebook: relative path inside the project's repository to the prediction notebook that is executed
    details: dictionary with arbitrary details about the deployment
}</pre>
</div>
<div class="section" id="treasure-chest">
<span id="tchest-doc"></span><h2>Treasure Chest<a class="headerlink" href="#treasure-chest" title="Permalink to this headline">¶</a></h2>
<p>Represents a pair of credentials recorded and stored securely in the framework. Also referred to as <em>tchest</em>.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>{
    name: name-of-the-tchest  # only alphanumerical and dashes
    owner: os-user-to-whom-it-belongs
    desc: free text description
    details: dictionary with arbitrary details about the tchest
}
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="configuration.html" class="btn btn-neutral float-right" title="Configuring Noronha" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="concepts.html" class="btn btn-neutral float-left" title="Key Concepts" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, everis

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>