

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Key Concepts &mdash; Noronha 1.3.2 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Noronha’s Data Model" href="data_model.html" />
    <link rel="prev" title="User Guide" href="index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Noronha
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../intro.html">Introduction</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">User Guide</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Key Concepts</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#project-repositories">Project Repositories</a></li>
<li class="toctree-l3"><a class="reference internal" href="#containers-and-notebooks">Containers and Notebooks</a></li>
<li class="toctree-l3"><a class="reference internal" href="#islands-plugins">Islands (Plugins)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#orchestration">Orchestration</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="data_model.html">Noronha’s Data Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="configuration.html">Configuring Noronha</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../reference/index.html">Reference</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Noronha</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">User Guide</a> &raquo;</li>
        
      <li>Key Concepts</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/guide/concepts.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="key-concepts">
<h1>Key Concepts<a class="headerlink" href="#key-concepts" title="Permalink to this headline">¶</a></h1>
<p>This section describes some important concepts that usually come up when working with Noronha. It’s recommended that you read and understand them in order to use the framework correctly.</p>
<p>The image bellow summarizes the components that compose the framework:</p>
<img alt="../_images/components_overview.png" src="../_images/components_overview.png" />
<div class="section" id="project-repositories">
<span id="id1"></span><h2>Project Repositories<a class="headerlink" href="#project-repositories" title="Permalink to this headline">¶</a></h2>
<p>When recording a project in Noronha, three kinds of repositories are supported.
None of them are mandatory, but at least one is recommended.</p>
<ul class="simple">
<li><p><strong>Home:</strong> Local directory where the project is hosted (recommended when working in a sandbox).</p></li>
<li><p><strong>Git:</strong> The project’s remote Git repository (recommended for production ready projects).</p></li>
<li><p><strong>Docker:</strong> The project’s remote Docker repository (recommended for mock-ups, prototyping and third party image testing).</p></li>
</ul>
<p>For the first two kinds (local, git) the framework assumes that your project’s root contains a Dockerfile that uses <a class="reference external" href="https://hub.docker.com/r/noronha.everis.ai/noronha">noronha.everis.ai/noronha:latest</a> as its base image. Everytime you build your project with Noronha from one of these two repositories, it’s going create a Docker image for the project and record some metadata related to it.</p>
<p>As for the third kind of repository (Docker), the framework assumes your repository contains a pre-built image, managed by the user or a third-party. When building from this repository, Noronha is just going to pull and tag the image for usage in the project’s tasks. Besides, if you try to run a project task with a Docker tag that hasn’t been recorded by Noronha yet, its default behaviour is to try to find an image with that tag in the project’s Docker repository.</p>
<p>This is a common Dockerfile to be used with Noronha:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>FROM noronha.everis.ai/noronha:1.0.0

ADD requirements.txt .
RUN bash -c &quot;source ${CONDA_HOME}/bin/activate ${CONDA_VENV} \
 &amp;&amp; pip install -r requirements.txt \
 &amp;&amp; rm -f requirements.txt&quot;

ADD . ${APP_HOME}
</pre></div>
</div>
<p>You can also find other common Dockerfile structures in the <a class="reference external" href="https://gitlab.eva.bot/asseteva/noronha-dataops/tree/master/examples">examples section</a>.</p>
<p>For the third kind of repository (docker) the framework assumes that the image is already managed by the user or a third-party, thus it’s ready to use and no builds will be performed by the framework itself.</p>
</div>
<div class="section" id="containers-and-notebooks">
<h2>Containers and Notebooks<a class="headerlink" href="#containers-and-notebooks" title="Permalink to this headline">¶</a></h2>
<p>Why do we build projects into Docker images? That’s because in Noronha every project task is basically a notebook execution that happens inside a container, and the project’s image is used to create those containers:</p>
<ul class="simple">
<li><p><strong>IDE:</strong> Jupyter Notebook inside a container, for editing and testing your code in an interactive manner.</p></li>
<li><p><strong>Train:</strong> Model training inside a container. It’s basically an execution of the training notebook. Usually, by the end of the execution a model version is produced.</p></li>
<li><p><strong>Deploy:</strong> Prediction service inside a group of containers with one or more replicas. Here, the prediction notebook is used to sustain an HTTP endpoint for serving prediction requests.</p></li>
</ul>
<p>You can find templates for structuring your training and prediction notebooks in the <a class="reference external" href="https://gitlab.eva.bot/asseteva/noronha-dataops/tree/master/examples">examples section</a>.</p>
</div>
<div class="section" id="islands-plugins">
<span id="island-concepts"></span><h2>Islands (Plugins)<a class="headerlink" href="#islands-plugins" title="Permalink to this headline">¶</a></h2>
<p>There is also a fourth kind of container that we call an “island”. This is like an embedded plugin, a container which is created and managed by the framework itself and that is responsible for performing some useful task. In this case, the image used to create the container depends on the task its meant to perform.</p>
<p>These are the default islands:</p>
<ul class="simple">
<li><p><strong>MongoDB:</strong> Database for storing metadata related to everything in this framework (projects, models, build versions, etc). See the <a class="reference internal" href="data_model.html#data-model-guide"><span class="std std-ref">data model section</span></a> for further info.</p></li>
<li><p><strong>Artifactory:</strong> File manager for storing model files, small datasets and notebook execution outputs.</p></li>
</ul>
<p>These are the optional islands:</p>
<ul class="simple">
<li><p><strong>Router:</strong> simple Node.js proxy that routes prediction requests to the respective model deployments.</p></li>
<li><p><strong>Nexus:</strong> alternative file manager that you can use instead of Artifactory.</p></li>
</ul>
<p>Instead of using a native (embedded) island, the file management and metadata storage tasks can also be performed by foreign (external, dedicated) instances, managed by the user or a third party (e.g.: a huge Nexus server in you company’s cloud or even a MongoDB cluster). To setup Noronha in this kind of environment see the <a class="reference internal" href="configuration.html#configuration-guide"><span class="std std-ref">configuration guide</span></a>.</p>
</div>
<div class="section" id="orchestration">
<span id="orchestration-concepts"></span><h2>Orchestration<a class="headerlink" href="#orchestration" title="Permalink to this headline">¶</a></h2>
<p>Noronha relies on a container manager to manipulate its containers. This can be either of:</p>
<ul class="simple">
<li><p><strong>Docker Swarm:</strong> This is the default container manager, and it’s meant for experimenting with the framework in a local, non-distributed environment.</p></li>
<li><p><strong>Kubernetes:</strong> This is the recommended container manager for working with multiple projects and users in a real productive cluster. To configure Noronha to use Kubernetes as its container manager, see the <a class="reference internal" href="configuration.html#configuration-guide"><span class="std std-ref">configuration guide</span></a>.</p></li>
</ul>
<p>The image below illustrates how the framework components interact inside and outside the container manager. However, this is a simplified representation, since in reality multiple trainings and/or deployments belonging to one or more projects may coexist in the same environment.</p>
<img alt="../_images/orchestration.png" src="../_images/orchestration.png" />
<p>Note that the <em>host machine</em> may be a local computer or even one of the servers that compose the container manager’s node pool. The framework’s libraries also need to be present in this host so that it can use Noronha’s API to interact with the container manager. Usually, a host like this is referred to as <em>off board</em>, since it’s not running inside a container, whereas IDE, training and deployments are referred to as <em>on board</em>.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="data_model.html" class="btn btn-neutral float-right" title="Noronha’s Data Model" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral float-left" title="User Guide" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, everis

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>